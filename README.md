## <img src="https://icon-icons.com/icons2/907/PNG/64/group-of-people-in-a-formation_icon-icons.com_70476.png"/>  Dsl-groupe-B

* Auteurs: **Team B**
  ### *DSL Externe*
  > * AINADOU Florian 
  > * DJEKINOU Paul-Marie 
  ### *DSL Interne*
  >  * KOFFI Paul 
  > * NABAGOU Djotiham 
* Version actuelle : `Basic scenarios + Signaling stuff by using sound + Temporal transitions` <kbd>+ reset to initial state for temporal transitions</kbd>
* Livrables :
    * [first-delivery](https://github.com/pns-si5-soa/box-20-21-team-f/releases/tag/delivery-first) : Premi√®re livraison

## <img src="https://icon-icons.com/icons2/1147/PNG/64/1486486316-arrow-film-movie-play-player-start-video_81236.png"/>  D√©mos rapide de nos fonctionnalit√©s
* `Very Simple Alarm` : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; üëâ [ici](https://drive.google.com/file/d/19RyqV8oVMZ8SNIQ71oXbLt3mdt5Y3ou1/view?usp=sharing)
* `Dual-check alarm` :  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;üëâ [ici](https://drive.google.com/file/d/1m-97sSkBXMuvHhR0sY43K60d9z-EbGZW/view?usp=sharing)
* `State-based alarm`  : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;üëâ [ici](https://drive.google.com/file/d/1XQG8X36FR4e23ONn1-RCl5AVm3z95tvY/view?usp=sharing)
* `Multi-state alarm` : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;üëâ [ici](https://drive.google.com/file/d/1Gk-Z64GswuqCTPo54cjSjKeaVHRz1ffB/view?usp=sharing)
* `Signaling stuff by using sounds` : &nbsp;üëâ [ici](https://drive.google.com/file/d/1lv3JnBRAOmwbYhtBqW3b_fPNmovczSaQ/view?usp=sharing)
* `Temporal transitions` : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;üëâ [ici](https://drive.google.com/file/d/1I46yfE0j3oK-w-emfjAi7bt3pc_IjSZB/view?usp=sharing)

## <img src="https://icon-icons.com/icons2/621/PNG/64/link-symbol-of-two-chains-links-linked_icon-icons.com_56928.png"/>  Liens des circuits de test TinkerCad
* `Very Simple Alarm` : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; üëâ [ici](https://www.tinkercad.com/things/htXg7yBnZFz-copy-of-two-leds-and-two-push-buttons/editel?sharecode=1g8OGSQbYqB41tXgSGBLVfwz28pJeCfvBTyhICYf13s)
* `Dual-check alarm` :  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;üëâ [ici](https://www.tinkercad.com/things/bsGUi3A4AC7-copy-of-dualcheck/editel?sharecode=XJ8RHG5773DdFlTWN9dPixxvR2fG-2VAuCJdnvLM544)
* `State-based alarm`  : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;üëâ [ici](https://www.tinkercad.com/things/cK7Df9GFPSc-copy-of-two-leds-and-two-push-buttons/editel?sharecode=goajfUehBalWURv0YFDR4BtOZ9ESfxFJcHRQ4aZOqkE)
* `Multi-state alarm` : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;üëâ [ici](https://www.tinkercad.com/things/6QrnopHUtKE-copy-of-two-leds-and-two-push-buttons/editel?sharecode=mxiFKdLX44aTZad5Fyg7G0CQEIZNXnTGS1HG9AsouGI)
* `Signaling stuff by using sounds` :&nbsp;&nbsp;üëâ [ici](https://www.tinkercad.com/things/2D4hoaXBBbl-signaling/editel?sharecode=XdgBwhE-5mOG2FR5I0B5Z-YMvrbEBitsvVfbLDAFcb8)
* `Temporal transitions` : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;üëâ [ici](https://www.tinkercad.com/things/gkz5F2JcsD0-copy-of-two-leds-and-two-push-buttons/editel?sharecode=i8-HGkg59kgW6_H_im0g-rjRqh1U1Zj6vXHdlO4I4dI)

## <img src="https://icon-icons.com/icons2/933/PNG/64/help-button-speech-bubble-with-question-mark_icon-icons.com_72707.png"/>  Comment utiliser ce repository

* La branche `main` (la branche par d√©faut) repr√©sente la derni√®re version stable du syst√®me.
* La branche `external` repr√©sente le syst√®me en cours de d√©veloppement sp√©cifique au DSL externe en Antlr.
* La branche `feature/internalDSLab` repr√©sente le syst√®me en cours de d√©veloppement sp√©cifique au DSL interne en groovy.

## <img src="https://icon-icons.com/icons2/1369/PNG/64/-get-app_90101.png"/>  R√©cup√©ration du projet

  Effectuer un clone classique du projet en faisant ```git clone https://github.com/wak-nda/dsl-groupe-b.git``` ou en r√©cup√©rant le zip depuis cette page.

## <img src="https://icon-icons.com/icons2/7/PNG/64/runbuild_1068.png"/>  Compilation
1 - Effectuez √† la racine du projet `mvn clean install`  
2 -`cd dsl-antlr` puis ensuite `mvn clean compile assembly:single` pour la g√©n√©ration avec Antlr  
3 - `cd dsl-groovy` puis ensuite `mvn clean compile assembly:single` pour la g√©n√©ration avec Groovy  

## <img src="https://cdn0.iconfinder.com/data/icons/octicons/1024/git-compare-48.png"/> G√©n√©rer le code Arduino √† partir du DSL
1 - Pour g√©n√©rer avec Groovy (exemple de VerySimpleAlarm.groovy):   
* `runInternal.sh VerySimpleAlarm.groovy VerySimpleAlarm` , le fichier g√©n√©r√© se trouvera dans le dossier `scripts/ouputs`

2 - Pour g√©n√©rer avec Antlr (exemple de VerySimpleAlarm.groovy):
* `runExternal.sh VerySimpleAlarm.groovy VerySimpleAlarm` , le fichier g√©n√©r√© se trouvera dans le dossier `scripts/ouputsExternal` 

3 - Dans le cas d'un nouveau script groovy, placez le fichier dans le dossier `scripts`, puis suivez les deux pr√©c√©dentes √©tapes selon votre choix. Un fichier `.ino` sera g√©n√©r√© dans le dossier appropri√©.



## <img src="https://cdn2.iconfinder.com/data/icons/flat-ui-icons-24-px/24/new-24-48.png"/> Utiliser le DSL

### Syntaxe
La syntaxe du DSL est la suivante : 

* #### D√©claration d'un input :  <kbd>sensor `@name` pin `@number`</kbd>

* #### D√©claration d'un output : <kbd>actuator `@name` pin `@number`</kbd>

* #### Tonalit√© activ√©e    : <kbd>tonality on</kbd>

* #### Interrupteur reset √† l'√©tat initial pour les transtions temporelles   : <kbd>interrupt on</kbd>

* #### D√©claration d'un √©tat avec tonalit√©  : 
<kbd>tune on state `@name` means `@actuator` becomes `high | low` [and `@actuator` becomes `high | low`] * n</kbd>

* #### D√©claration d'un √©tat sans tonalit√© : 
<kbd>state `@name` means `@actuator` becomes `high | low` [and `@actuator` becomes `high | low`] * n
</kbd> &nbsp;   &nbsp;

<kbd>tune off state `@name` means `@actuator` becomes `high | low` [and `@actuator` becomes `high | low`] * n</kbd>

* #### Etat initial de l'App  : <kbd>initial `@state`</kbd>

* #### D√©claration d'une transition simple : <kbd>from `@state` to `@state` when `@sensor` becomes `high | low`</kbd>

* #### D√©claration d'une transition conditionnelle : 
<kbd>fromC `@state` to `@state` when `@sensor` becomes `high | low` , `and | or` when `@sensor` becomes `high | low` </kbd>

* #### D√©claration d'une transition temporelle : <kbd>from `@state` temporalTo `@state` after `@time` ms </kbd>

* #### Nom du programme   : <kbd>export `@name`</kbd>


## <img src="https://icon-icons.com/icons2/1145/PNG/64/codeoutlinedprogrammingsigns_81143.png"/>  Pile Technologique
  <p align="center">
    <img src="./docs/img/techno.jpg"/>
  </p>
